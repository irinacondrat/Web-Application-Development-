function goto(url){location.href=url;}
function handleLogin(e){e.preventDefault();const email=document.getElementById('email')?.value.trim();const pwd=document.getElementById('password')?.value.trim();if(!email||!pwd){alert('Please enter email and password.');return;}const name=email.includes('@')?email.split('@')[0]:email;localStorage.setItem('alumniName',name);goto('dashboard.html');}
let currentStep=0;function showStep(i){const steps=document.querySelectorAll('.wizard-step');const bars=document.querySelectorAll('.step');if(!steps.length)return;currentStep=Math.max(0,Math.min(i,steps.length-1));steps.forEach((s,idx)=>s.style.display=idx===currentStep?'block':'none');bars.forEach((b,idx)=>b.classList.toggle('active',idx<=currentStep));const prev=document.getElementById('prevBtn');const next=document.getElementById('nextBtn');const submit=document.getElementById('submitBtn');if(prev)prev.disabled=currentStep===0;if(next)next.style.display=currentStep===steps.length-1?'none':'inline-block';if(submit)submit.style.display=currentStep===steps.length-1?'inline-block':'none';const live=document.getElementById('live');if(live)live.textContent=`Step ${currentStep+1} of ${steps.length}`;}
function nextStep(){showStep(currentStep+1);}function prevStep(){showStep(currentStep-1);}function submitWizard(e){e.preventDefault();if(!document.getElementById('consent')?.checked){alert('Please tick the consent checkbox to continue.');return;}alert('Details submitted. Thank you! (Prototype)');goto('dashboard.html');}
document.addEventListener('DOMContentLoaded',()=>{const slot=document.getElementById('welcomeName');if(slot){const n=localStorage.getItem('alumniName')||'Alumni';slot.textContent=n.charAt(0).toUpperCase()+n.slice(1);}if(document.querySelector('.wizard')){showStep(0);}});